<!DOCTYPE html>
<html>

  <head>
    <meta charset='utf-8' />
    <meta http-equiv="X-UA-Compatible" content="chrome=1" />
    <meta name="description" content="Json-ld : Ruby JSON-LD reader/writer for RDF.rb" />

    <link rel="stylesheet" type="text/css" media="screen" href="stylesheets/stylesheet.css">

    <title>Json-ld</title>
  </head>

  <body>

    <!-- HEADER -->
    <div id="header_wrap" class="outer">
        <header class="inner">
          <a id="forkme_banner" href="https://github.com/ruby-rdf/json-ld">View on GitHub</a>

          <h1 id="project_title">Json-ld</h1>
          <h2 id="project_tagline">Ruby JSON-LD reader/writer for RDF.rb</h2>

            <section id="downloads">
              <a class="zip_download_link" href="https://github.com/ruby-rdf/json-ld/zipball/master">Download this project as a .zip file</a>
              <a class="tar_download_link" href="https://github.com/ruby-rdf/json-ld/tarball/master">Download this project as a tar.gz file</a>
            </section>
        </header>
    </div>

    <!-- MAIN CONTENT -->
    <div id="main_content_wrap" class="outer">
      <section id="main_content" class="inner">
        <h1>
<a name="json-ld-readerwriter" class="anchor" href="#json-ld-readerwriter"><span class="octicon octicon-link"></span></a>JSON-LD reader/writer</h1>

<p><a href="http://www.w3.org/TR/json-ld/" title="JSON-LD 1.0">JSON-LD</a> reader/writer for <a href="http://rubygems.org/gems/rdf">RDF.rb</a> and fully conforming <a href="http://www.w3.org/TR/json-ld-api/" title="JSON-LD 1.0 Processing Algorithms and API">JSON-LD API</a> processor. Additionally this gem implements <a href="http://json-ld.org/spec/latest/json-ld-framing/" title="JSON-LD Framing 1.0">JSON-LD Framing</a>.</p>

<p><a href="http://badge.fury.io/rb/json-ld"><img src="https://badge.fury.io/rb/json-ld.png" alt="Gem Version"></a>
<a href="http://travis-ci.org/ruby-rdf/json-ld"><img src="https://secure.travis-ci.org/ruby-rdf/json-ld.png?branch=master" alt="Build Status"></a></p>

<h2>
<a name="features" class="anchor" href="#features"><span class="octicon octicon-link"></span></a>Features</h2>

<p>JSON::LD parses and serializes <a href="http://www.w3.org/TR/json-ld/" title="JSON-LD 1.0">JSON-LD</a> into <a href="http://www.w3.org/RDF/">RDF</a> and implements expansion, compaction and framing API interfaces.</p>

<p>Install with <code>gem install json-ld</code></p>

<h2>
<a name="examples" class="anchor" href="#examples"><span class="octicon octicon-link"></span></a>Examples</h2>

<pre><code>require 'rubygems'
require 'json/ld'
</code></pre>

<h3>
<a name="expand-a-document" class="anchor" href="#expand-a-document"><span class="octicon octicon-link"></span></a>Expand a Document</h3>

<pre><code>input = JSON.parse %({
  "@context": {
    "name": "http://xmlns.com/foaf/0.1/name",
    "homepage": "http://xmlns.com/foaf/0.1/homepage",
    "avatar": "http://xmlns.com/foaf/0.1/avatar"
  },
  "name": "Manu Sporny",
  "homepage": "http://manu.sporny.org/",
  "avatar": "http://twitter.com/account/profile_image/manusporny"
})
JSON::LD::API.expand(input) =&gt;

[{
    "http://xmlns.com/foaf/0.1/name": ["Manu Sporny"],
    "http://xmlns.com/foaf/0.1/homepage": ["http://manu.sporny.org/"],
    "http://xmlns.com/foaf/0.1/avatar": ["http://twitter.com/account/profile_image/manusporny"]
}]
</code></pre>

<h3>
<a name="compact-a-document" class="anchor" href="#compact-a-document"><span class="octicon octicon-link"></span></a>Compact a Document</h3>

<pre><code>input = JSON.parse %([{
    "http://xmlns.com/foaf/0.1/name": ["Manu Sporny"],
    "http://xmlns.com/foaf/0.1/homepage": [{"@id": "http://manu.sporny.org/"}],
    "http://xmlns.com/foaf/0.1/avatar": [{"@id": "http://twitter.com/account/profile_image/manusporny"}]
}])

context = JSON.parse(%({
  "@context": {
    "name": "http://xmlns.com/foaf/0.1/name",
    "homepage": {"@id": "http://xmlns.com/foaf/0.1/homepage", "@type": "@id"},
    "avatar": {"@id": "http://xmlns.com/foaf/0.1/avatar", "@type": "@id"}
  }
}))['@context']

JSON::LD::API.compact(input, context) =&gt;
{
    "@context": {
      "name": "http://xmlns.com/foaf/0.1/name",
      "homepage": {"@id": "http://xmlns.com/foaf/0.1/homepage", "@type": "@id"},
      "avatar": {"@id": "http://xmlns.com/foaf/0.1/avatar", "@type": "@id"}
    },
    "avatar": "http://twitter.com/account/profile_image/manusporny",
    "homepage": "http://manu.sporny.org/",
    "name": "Manu Sporny"
}
</code></pre>

<h3>
<a name="frame-a-document" class="anchor" href="#frame-a-document"><span class="octicon octicon-link"></span></a>Frame a Document</h3>

<pre><code>input = JSON.parse %({
  "@context": {
    "Book":         "http://example.org/vocab#Book",
    "Chapter":      "http://example.org/vocab#Chapter",
    "contains":     {"@id": "http://example.org/vocab#contains", "@type": "@id"},
    "creator":      "http://purl.org/dc/terms/creator",
    "description":  "http://purl.org/dc/terms/description",
    "Library":      "http://example.org/vocab#Library",
    "title":        "http://purl.org/dc/terms/title"
  },
  "@graph":
  [{
    "@id": "http://example.com/library",
    "@type": "Library",
    "contains": "http://example.org/library/the-republic"
  },
  {
    "@id": "http://example.org/library/the-republic",
    "@type": "Book",
    "creator": "Plato",
    "title": "The Republic",
    "contains": "http://example.org/library/the-republic#introduction"
  },
  {
    "@id": "http://example.org/library/the-republic#introduction",
    "@type": "Chapter",
    "description": "An introductory chapter on The Republic.",
    "title": "The Introduction"
  }]
})

frame = JSON.parse %({
  "@context": {
    "Book":         "http://example.org/vocab#Book",
    "Chapter":      "http://example.org/vocab#Chapter",
    "contains":     "http://example.org/vocab#contains",
    "creator":      "http://purl.org/dc/terms/creator",
    "description":  "http://purl.org/dc/terms/description",
    "Library":      "http://example.org/vocab#Library",
    "title":        "http://purl.org/dc/terms/title"
  },
  "@type": "Library",
  "contains": {
    "@type": "Book",
    "contains": {
      "@type": "Chapter"
    }
  }
})

JSON::LD::API.frame(input, frame) =&gt;
{
  "@context": {
    "Book": "http://example.org/vocab#Book",
    "Chapter": "http://example.org/vocab#Chapter",
    "contains": "http://example.org/vocab#contains",
    "creator": "http://purl.org/dc/terms/creator",
    "description": "http://purl.org/dc/terms/description",
    "Library": "http://example.org/vocab#Library",
    "title": "http://purl.org/dc/terms/title"
  },
  "@graph": [
    {
      "@id": "http://example.com/library",
      "@type": "Library",
      "contains": {
        "@id": "http://example.org/library/the-republic",
        "@type": "Book",
        "contains": {
          "@id": "http://example.org/library/the-republic#introduction",
          "@type": "Chapter",
          "description": "An introductory chapter on The Republic.",
          "title": "The Introduction"
        },
        "creator": "Plato",
        "title": "The Republic"
      }
    }
  ]
}
</code></pre>

<h3>
<a name="turn-json-ld-into-rdf-turtle" class="anchor" href="#turn-json-ld-into-rdf-turtle"><span class="octicon octicon-link"></span></a>Turn JSON-LD into RDF (Turtle)</h3>

<pre><code>input = JSON.parse %({
  "@context": {
    "":       "http://manu.sporny.org/",
    "foaf":   "http://xmlns.com/foaf/0.1/"
  },
  "@id":       "http://example.org/people#joebob",
  "@type":          "foaf:Person",
  "foaf:name":      "Joe Bob",
  "foaf:nick":      { "@list": [ "joe", "bob", "jaybe" ] }
})

graph = RDF::Graph.new &lt;&lt; JSON::LD::API.toRdf(input)

require 'rdf/turtle'
graph.dump(:ttl, :prefixes =&gt; {:foaf =&gt; "http://xmlns.com/foaf/0.1/"})
@prefix foaf: &lt;http://xmlns.com/foaf/0.1/&gt; .

&lt;http://example.org/people#joebob&gt; a foaf:Person;
   foaf:name "Joe Bob";
   foaf:nick ("joe" "bob" "jaybe") .
</code></pre>

<h3>
<a name="turn-rdf-into-json-ld" class="anchor" href="#turn-rdf-into-json-ld"><span class="octicon octicon-link"></span></a>Turn RDF into JSON-LD</h3>

<pre><code>require 'rdf/turtle'
input = RDF::Graph.new &lt;&lt; RDF::Turtle::Reader.new(%(
  @prefix foaf: &lt;http://xmlns.com/foaf/0.1/&gt; .

  &lt;http://manu.sporny.org/#me&gt; a foaf:Person;
     foaf:knows [ a foaf:Person;
       foaf:name "Gregg Kellogg"];
     foaf:name "Manu Sporny" .
))

context = JSON.parse %({
  "@context": {
    "":       "http://manu.sporny.org/",
    "foaf":   "http://xmlns.com/foaf/0.1/"
  }
})

compacted = nil
JSON::LD::API::fromRdf(input) do |expanded|
  compacted = JSON::LD::API.compact(expanded, context['@context'])
end
compacted =&gt;
  [
    {
      "@id": "_:g70265766605380",
      "@type": ["http://xmlns.com/foaf/0.1/Person"],
      "http://xmlns.com/foaf/0.1/name": [{"@value": "Gregg Kellogg"}]
    },
    {
      "@id": "http://manu.sporny.org/#me",
      "@type": ["http://xmlns.com/foaf/0.1/Person"],
      "http://xmlns.com/foaf/0.1/knows": [{"@id": "_:g70265766605380"}],
      "http://xmlns.com/foaf/0.1/name": [{"@value": "Manu Sporny"}]
    }
  ]
</code></pre>

<h2>
<a name="rdf-reader-and-writer" class="anchor" href="#rdf-reader-and-writer"><span class="octicon octicon-link"></span></a>RDF Reader and Writer</h2>

<p>{JSON::LD} also acts as a normal RDF reader and writer, using the standard RDF.rb reader/writer interfaces:</p>

<pre><code>graph = RDF::Graph.load("etc/doap.jsonld", :format =&gt; :jsonld)
graph.dump(:jsonld, :standard_prefixes =&gt; true)
</code></pre>

<p><code>RDF::GRAPH#dump</code> can also take a <code>:context</code> option to use a separately defined context</p>

<h2>
<a name="documentation" class="anchor" href="#documentation"><span class="octicon octicon-link"></span></a>Documentation</h2>

<p>Full documentation available on <a href="http://rubydoc.info/gems/json-ld/file/README.md">RubyDoc</a></p>

<h2>
<a name="differences-from-json-ld-api" class="anchor" href="#differences-from-json-ld-api"><span class="octicon octicon-link"></span></a>Differences from <a href="http://www.w3.org/TR/json-ld-api/" title="JSON-LD 1.0 Processing Algorithms and API">JSON-LD API</a>
</h2>

<p>The specified JSON-LD API is based on a WebIDL definition implementing <a href="http://dom.spec.whatwg.org/#promises">Promises</a> intended for use within a browser.
This version implements a more Ruby-like variation of this API without the use
of promises or callback arguments, preferring Ruby blocks. All API methods
execute synchronously, so that the return from a method can typically be used as well as a block.</p>

<p>Note, the API method signatures differed in versions before 1.0, in that they also had a callback parameter. And 1.0.6 has some other minor method signature differences than previous versions. This should be the only exception to the use of semantic versioning.</p>

<h3>
<a name="principal-classes" class="anchor" href="#principal-classes"><span class="octicon octicon-link"></span></a>Principal Classes</h3>

<ul>
<li>{JSON::LD}

<ul>
<li>{JSON::LD::API}</li>
<li>{JSON::LD::Compact}</li>
<li>{JSON::LD::Context}</li>
<li>{JSON::LD::Format}</li>
<li>{JSON::LD::Frame}</li>
<li>{JSON::LD::FromRDF}</li>
<li>{JSON::LD::Reader}</li>
<li>{JSON::LD::ToRDF}</li>
<li>{JSON::LD::Writer}</li>
</ul>
</li>
</ul><h2>
<a name="dependencies" class="anchor" href="#dependencies"><span class="octicon octicon-link"></span></a>Dependencies</h2>

<ul>
<li>
<a href="http://ruby-lang.org/">Ruby</a> (&gt;= 1.9.2)</li>
<li>
<a href="http://rubygems.org/gems/rdf">RDF.rb</a> (&gt;= 1.0)</li>
<li>
<a href="https://rubygems.org/gems/json">JSON</a> (&gt;= 1.5)</li>
</ul><h2>
<a name="installation" class="anchor" href="#installation"><span class="octicon octicon-link"></span></a>Installation</h2>

<p>The recommended installation method is via <a href="http://rubygems.org/">RubyGems</a>.
To install the latest official release of the <code>JSON-LD</code> gem, do:</p>

<pre><code>% [sudo] gem install json-ld
</code></pre>

<h2>
<a name="download" class="anchor" href="#download"><span class="octicon octicon-link"></span></a>Download</h2>

<p>To get a local working copy of the development repository, do:</p>

<pre><code>% git clone git://github.com/ruby-rdf/json-ld.git
</code></pre>

<h2>
<a name="mailing-list" class="anchor" href="#mailing-list"><span class="octicon octicon-link"></span></a>Mailing List</h2>

<ul>
<li><a href="http://lists.w3.org/Archives/Public/public-rdf-ruby/">http://lists.w3.org/Archives/Public/public-rdf-ruby/</a></li>
</ul><h2>
<a name="author" class="anchor" href="#author"><span class="octicon octicon-link"></span></a>Author</h2>

<ul>
<li>
<a href="http://github.com/gkellogg">Gregg Kellogg</a> - <a href="http://kellogg-assoc.com/">http://kellogg-assoc.com/</a>
</li>
</ul><h2>
<a name="contributing" class="anchor" href="#contributing"><span class="octicon octicon-link"></span></a>Contributing</h2>

<ul>
<li>Do your best to adhere to the existing coding conventions and idioms.</li>
<li>Don't use hard tabs, and don't leave trailing whitespace on any line.</li>
<li>Do document every method you add using <a href="http://yardoc.org/">YARD</a> annotations. Read the
<a href="http://rubydoc.info/docs/yard/file/docs/GettingStarted.md">tutorial</a> or just look at the existing code for examples.</li>
<li>Don't touch the <code>.gemspec</code>, <code>VERSION</code> or <code>AUTHORS</code> files. If you need to
change them, do so on your private branch only.</li>
<li>Do feel free to add yourself to the <code>CREDITS</code> file and the corresponding
list in the the <code>README</code>. Alphabetical order applies.</li>
<li>Do note that in order for us to merge any non-trivial changes (as a rule
of thumb, additions larger than about 15 lines of code), we need an
explicit <a href="http://lists.w3.org/Archives/Public/public-rdf-ruby/2010May/0013.html">public domain dedication</a> on record from you.</li>
</ul><h2>
<a name="license" class="anchor" href="#license"><span class="octicon octicon-link"></span></a>License</h2>

<p>This is free and unencumbered public domain software. For more information,
see <a href="http://unlicense.org/">http://unlicense.org/</a> or the accompanying {file:UNLICENSE} file.</p>
      </section>
    </div>

    <!-- FOOTER  -->
    <div id="footer_wrap" class="outer">
      <footer class="inner">
        <p class="copyright">Json-ld maintained by <a href="https://github.com/ruby-rdf">ruby-rdf</a></p>
        <p>Published with <a href="http://pages.github.com">GitHub Pages</a></p>
      </footer>
    </div>

    

  </body>
</html>
